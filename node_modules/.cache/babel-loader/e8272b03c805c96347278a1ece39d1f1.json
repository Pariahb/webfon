{"ast":null,"code":"import _slicedToArray from \"/home/paria/sandbox/projects/webfon-V2/webfonv2/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/paria/sandbox/projects/webfon-V2/webfonv2/src/components/chat/contact-item/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport avatarImage from \"../../../images/avatar.jpg\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport RosterStatusDetector from \"../roster-status-detector\";\nimport $ from 'jquery';\nimport \"./style.css\";\n\nconst ContactItem = props => {\n  const dispatch = useDispatch();\n\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        userStatus = _useState2[0],\n        setUserStatus = _useState2[1];\n\n  const selectedContact = useSelector(state => state.selectedContact);\n  const rosterStatus = useSelector(state => state.rosterStatus);\n\n  const handleRosterClick = contact => {\n    dispatch({\n      contact,\n      type: \"SET_SELECTED_ROSTER\"\n    });\n    let items = document.getElementsByClassName(\"item\");\n    console.log(\"items\", items);\n    $.each(items, function (i, item) {\n      if (item.id === selectedContact) {\n        console.log(\"yyy\", item);\n        console.log(\"selectedContact\", selectedContact);\n      }\n    });\n  };\n  /*----------find status for specific user------------------*/\n\n\n  const findRosterStatus = () => {\n    const item = rosterStatus.filter(i => i.id === props.item.jid)[0];\n    setUserStatus(item);\n  };\n  /*--------------/find status for specific user------------------*/\n\n\n  useEffect(() => {\n    findRosterStatus();\n  }, [rosterStatus]);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    onClick: () => handleRosterClick(props.item.jid),\n    className: \"row item\",\n    id: props.item.jid,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"avatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, userStatus !== undefined ? React.createElement(RosterStatusDetector, {\n    status: userStatus.status,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }) : React.createElement(\"span\", {\n    className: \"offline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    alt: \"avatar\",\n    src: avatarImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"right-side\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"extension\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, props.item.jid)), React.createElement(\"div\", {\n    className: \"contact-name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, props.item.name)))));\n};\n\nexport default ContactItem;","map":{"version":3,"sources":["/home/paria/sandbox/projects/webfon-V2/webfonv2/src/components/chat/contact-item/index.js"],"names":["React","useEffect","useState","avatarImage","useDispatch","useSelector","RosterStatusDetector","$","ContactItem","props","dispatch","userStatus","setUserStatus","selectedContact","state","rosterStatus","handleRosterClick","contact","type","items","document","getElementsByClassName","console","log","each","i","item","id","findRosterStatus","filter","jid","undefined","status","name"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport avatarImage from \"../../../images/avatar.jpg\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport RosterStatusDetector from \"../roster-status-detector\";\nimport $ from 'jquery';\nimport \"./style.css\";\n\nconst ContactItem = (props) => {\n    const dispatch = useDispatch();\n    const [userStatus, setUserStatus] = useState({})\n    const selectedContact = useSelector(state => state.selectedContact);\n    const rosterStatus = useSelector(state => state.rosterStatus);\n\n    const handleRosterClick = (contact) => {\n        dispatch({contact, type: \"SET_SELECTED_ROSTER\"});\n        let items = document.getElementsByClassName(\"item\")\n        console.log(\"items\", items);\n        $.each(items, function (i,item) {\n            if(item.id === selectedContact){\n                console.log(\"yyy\", item)\n                console.log(\"selectedContact\", selectedContact)\n            }\n        })\n    };\n\n    /*----------find status for specific user------------------*/\n    const findRosterStatus = () => {\n        const item = rosterStatus.filter(i => i.id === props.item.jid)[0]\n        setUserStatus(item);\n    };\n    /*--------------/find status for specific user------------------*/\n\n\n    useEffect(() => {\n        findRosterStatus()\n    }, [rosterStatus]);\n\n\n    return (\n        <React.Fragment>\n            <div\n                onClick={() => handleRosterClick(props.item.jid)}\n                className=\"row item\"\n                id={props.item.jid}\n            >\n                <div className=\"avatar\">\n                    {\n                        userStatus !== undefined ? <RosterStatusDetector status={userStatus.status}/> :\n                            <span className=\"offline\"></span>\n                    }\n                    <img alt=\"avatar\" src={avatarImage}/>\n                </div>\n                <div className=\"right-side\">\n                    <div className=\"extension\">\n                        <p>{props.item.jid}</p>\n                    </div>\n\n                    <div className=\"contact-name\">\n                        <p>{props.item.name}</p>\n                    </div>\n                </div>\n            </div>\n\n        </React.Fragment>\n    );\n\n};\n\n\nexport default ContactItem;\n"]},"metadata":{},"sourceType":"module"}
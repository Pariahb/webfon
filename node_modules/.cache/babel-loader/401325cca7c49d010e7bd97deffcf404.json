{"ast":null,"code":"import _slicedToArray from\"/home/paria/sandbox/projects/webfon-V2/webfonv2/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import LoginPage from\"../login-page\";import TabsSection from\"../tabs\";import StatusDetector from\"../status-detector\";import{useSelector}from\"react-redux\";import DropDownMenu from\"../drop-down-menu\";import KazooLogin from\"../../call/login\";import\"./style.css\";var MainPage=function MainPage(){var showMainPage=useSelector(function(state){return state.showMainPage;});var showCallPage=useSelector(function(state){return state.showCallPage;});var connection=useSelector(function(state){return state.connection;});var $pres=useSelector(function(state){return state.$pres;});var _useState=useState(showMainPage),_useState2=_slicedToArray(_useState,2),showPage=_useState2[0],setShowPage=_useState2[1];/*-----------------Log Out Button action----------------=*/var handleDisconnect=function handleDisconnect(){connection.disconnect();};/*-----------------/Log Out Button action----------------*/useEffect(function(){setShowPage(showMainPage);},[showMainPage]);useEffect(function(){setShowPage(showCallPage);},[showCallPage]);/*----------response to subscription request-----------*/ // const onSubscriptionRequest = (stanza) => {\n//     this.setState({\n//         showPopUp: true\n//     })\n//     if (stanza.getAttribute(\"type\") === \"subscribe\") {\n//         // Send a 'subscribed' notification back to accept the incoming\n//         // subscription request\n//         connection.send($pres({to: stanza.getAttribute(\"from\"), type: \"subscribed\"}));\n//     }\n//     return true;\n// }\n/*----------/response to subscription request-----------*/return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"container\"},showPage?React.createElement(\"div\",null,React.createElement(\"button\",{type:\"button\",value:\"logout\",className:\"btn-sm btn-danger logout\",id:\"logout\",onClick:handleDisconnect},\"Log out\"),React.createElement(\"div\",{className:\"mystatus\"},React.createElement(DropDownMenu,null),React.createElement(StatusDetector,null)),React.createElement(TabsSection,null)):React.createElement(LoginPage,null)));};export default MainPage;","map":{"version":3,"sources":["/home/paria/sandbox/projects/webfon-V2/webfonv2/src/components/chat/main-page/index.js"],"names":["React","useEffect","useState","LoginPage","TabsSection","StatusDetector","useSelector","DropDownMenu","KazooLogin","MainPage","showMainPage","state","showCallPage","connection","$pres","showPage","setShowPage","handleDisconnect","disconnect"],"mappings":"kIAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,SAAP,KAAsB,eAAtB,CACA,MAAOC,CAAAA,WAAP,KAAwB,SAAxB,CACA,MAAOC,CAAAA,cAAP,KAA2B,oBAA3B,CACA,OAAQC,WAAR,KAA0B,aAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,mBAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,MAAO,aAAP,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,GAAMC,CAAAA,YAAY,CAAGJ,WAAW,CAAC,SAAAK,KAAK,QAAIA,CAAAA,KAAK,CAACD,YAAV,EAAN,CAAhC,CACA,GAAME,CAAAA,YAAY,CAAGN,WAAW,CAAC,SAAAK,KAAK,QAAIA,CAAAA,KAAK,CAACC,YAAV,EAAN,CAAhC,CACA,GAAMC,CAAAA,UAAU,CAAGP,WAAW,CAAC,SAAAK,KAAK,QAAIA,CAAAA,KAAK,CAACE,UAAV,EAAN,CAA9B,CACA,GAAMC,CAAAA,KAAK,CAAGR,WAAW,CAAC,SAAAK,KAAK,QAAIA,CAAAA,KAAK,CAACG,KAAV,EAAN,CAAzB,CAJmB,cAKaZ,QAAQ,CAACQ,YAAD,CALrB,wCAKZK,QALY,eAKFC,WALE,eAQnB,2DACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC3BJ,UAAU,CAACK,UAAX,GACH,CAFD,CAIA,2DAEAjB,SAAS,CAAC,UAAM,CACZe,WAAW,CAACN,YAAD,CAAX,CACH,CAFQ,CAEN,CAACA,YAAD,CAFM,CAAT,CAKAT,SAAS,CAAC,UAAM,CACZe,WAAW,CAACJ,YAAD,CAAX,CACH,CAFQ,CAEN,CAACA,YAAD,CAFM,CAAT,CAKA,yDAzBmB,CA0BnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,0DAGA,MACI,qBAAC,KAAD,CAAO,QAAP,MACI,2BAAK,SAAS,CAAC,WAAf,EACKG,QAAQ,CAAG,+BACJ,8BACI,IAAI,CAAC,QADT,CAEI,KAAK,CAAC,QAFV,CAGI,SAAS,CAAC,0BAHd,CAII,EAAE,CAAC,QAJP,CAKI,OAAO,CAAEE,gBALb,YADI,CAQJ,2BAAK,SAAS,CAAC,UAAf,EACI,oBAAC,YAAD,MADJ,CAEI,oBAAC,cAAD,MAFJ,CARI,CAYJ,oBAAC,WAAD,MAZI,CAAH,CAcL,oBAAC,SAAD,MAfR,CADJ,CADJ,CAuBH,CAhED,CAmEA,cAAeR,CAAAA,QAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport LoginPage from \"../login-page\";\nimport TabsSection from \"../tabs\";\nimport StatusDetector from \"../status-detector\";\nimport {useSelector} from \"react-redux\";\nimport DropDownMenu from \"../drop-down-menu\";\nimport KazooLogin from \"../../call/login\";\nimport \"./style.css\"\n\nconst MainPage = () => {\n    const showMainPage = useSelector(state => state.showMainPage);\n    const showCallPage = useSelector(state => state.showCallPage);\n    const connection = useSelector(state => state.connection);\n    const $pres = useSelector(state => state.$pres);\n    const [showPage, setShowPage] = useState(showMainPage);\n\n\n    /*-----------------Log Out Button action----------------=*/\n    const handleDisconnect = () => {\n        connection.disconnect();\n    };\n\n    /*-----------------/Log Out Button action----------------*/\n\n    useEffect(() => {\n        setShowPage(showMainPage)\n    }, [showMainPage]);\n\n\n    useEffect(() => {\n        setShowPage(showCallPage);\n    }, [showCallPage]);\n\n\n    /*----------response to subscription request-----------*/\n    // const onSubscriptionRequest = (stanza) => {\n    //     this.setState({\n    //         showPopUp: true\n    //     })\n    //     if (stanza.getAttribute(\"type\") === \"subscribe\") {\n    //         // Send a 'subscribed' notification back to accept the incoming\n    //         // subscription request\n    //         connection.send($pres({to: stanza.getAttribute(\"from\"), type: \"subscribed\"}));\n    //     }\n    //     return true;\n    // }\n\n    /*----------/response to subscription request-----------*/\n\n\n    return (\n        <React.Fragment>\n            <div className=\"container\">\n                {showPage ? <div>\n                        <button\n                            type=\"button\"\n                            value=\"logout\"\n                            className=\"btn-sm btn-danger logout\"\n                            id=\"logout\"\n                            onClick={handleDisconnect}\n                        >Log out</button>\n                        <div className=\"mystatus\">\n                            <DropDownMenu/>\n                            <StatusDetector/>\n                        </div>\n                        <TabsSection/>\n                    </div> :\n                    <LoginPage/>\n                }\n            </div>\n        </React.Fragment>\n    );\n\n}\n\n\nexport default MainPage;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/home/paria/sandbox/projects/webfon-V2/webfonv2/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import avatarImage from\"../../../images/avatar.jpg\";import{useDispatch,useSelector}from\"react-redux\";import RosterStatusDetector from\"../roster-status-detector\";import $ from'jquery';import\"./style.css\";var ContactItem=function ContactItem(props){var dispatch=useDispatch();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),userStatus=_useState2[0],setUserStatus=_useState2[1];var selectedContact=useSelector(function(state){return state.selectedContact;});var rosterStatus=useSelector(function(state){return state.rosterStatus;});var handleRosterClick=function handleRosterClick(contact){dispatch({contact:contact,type:\"SET_SELECTED_ROSTER\"});};useEffect(function(){var items=document.getElementsByClassName(\"item\");console.log(\"items\",items);$.each(items,function(i,item){if(item.id===selectedContact){console.log(\"yyy\",item);console.log(\"selectedContact\",selectedContact);item.style.backgroundColor=\"white\";}else{item.style.backgroundColor=\"transparent\";}});});/*----------find status for specific user------------------*/var findRosterStatus=function findRosterStatus(){var item=rosterStatus.filter(function(i){return i.id===props.item.jid;})[0];setUserStatus(item);};/*--------------/find status for specific user------------------*/useEffect(function(){findRosterStatus();},[rosterStatus]);return React.createElement(React.Fragment,null,React.createElement(\"div\",{onClick:function onClick(){return handleRosterClick(props.item.jid);},className:\"row item\",id:props.item.jid},React.createElement(\"div\",{className:\"avatar\"},userStatus!==undefined?React.createElement(RosterStatusDetector,{status:userStatus.status}):React.createElement(\"span\",{className:\"offline\"}),React.createElement(\"img\",{alt:\"avatar\",src:avatarImage})),React.createElement(\"div\",{className:\"right-side\"},React.createElement(\"div\",{className:\"extension\"},React.createElement(\"p\",null,props.item.jid)),React.createElement(\"div\",{className:\"contact-name\"},React.createElement(\"p\",null,props.item.name)))));};export default ContactItem;","map":{"version":3,"sources":["/home/paria/sandbox/projects/webfon-V2/webfonv2/src/components/chat/contact-item/index.js"],"names":["React","useEffect","useState","avatarImage","useDispatch","useSelector","RosterStatusDetector","$","ContactItem","props","dispatch","userStatus","setUserStatus","selectedContact","state","rosterStatus","handleRosterClick","contact","type","items","document","getElementsByClassName","console","log","each","i","item","id","style","backgroundColor","findRosterStatus","filter","jid","undefined","status","name"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport avatarImage from \"../../../images/avatar.jpg\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport RosterStatusDetector from \"../roster-status-detector\";\nimport $ from 'jquery';\nimport \"./style.css\";\n\nconst ContactItem = (props) => {\n    const dispatch = useDispatch();\n    const [userStatus, setUserStatus] = useState({})\n    const selectedContact = useSelector(state => state.selectedContact);\n    const rosterStatus = useSelector(state => state.rosterStatus);\n\n    const handleRosterClick = (contact) => {\n        dispatch({contact, type: \"SET_SELECTED_ROSTER\"});\n\n    };\n    useEffect(() => {\n        let items = document.getElementsByClassName(\"item\")\n        console.log(\"items\", items);\n        $.each(items, function (i,item) {\n            if(item.id === selectedContact){\n                console.log(\"yyy\", item)\n                console.log(\"selectedContact\", selectedContact);\n                item.style.backgroundColor = \"white\";\n            }else {\n                item.style.backgroundColor = \"transparent\";\n\n            }\n        })\n    })\n    /*----------find status for specific user------------------*/\n    const findRosterStatus = () => {\n        const item = rosterStatus.filter(i => i.id === props.item.jid)[0]\n        setUserStatus(item);\n    };\n    /*--------------/find status for specific user------------------*/\n\n\n    useEffect(() => {\n        findRosterStatus()\n    }, [rosterStatus]);\n\n\n    return (\n        <React.Fragment>\n            <div\n                onClick={() => handleRosterClick(props.item.jid)}\n                className=\"row item\"\n                id={props.item.jid}\n            >\n                <div className=\"avatar\">\n                    {\n                        userStatus !== undefined ? <RosterStatusDetector status={userStatus.status}/> :\n                            <span className=\"offline\"></span>\n                    }\n                    <img alt=\"avatar\" src={avatarImage}/>\n                </div>\n                <div className=\"right-side\">\n                    <div className=\"extension\">\n                        <p>{props.item.jid}</p>\n                    </div>\n\n                    <div className=\"contact-name\">\n                        <p>{props.item.name}</p>\n                    </div>\n                </div>\n            </div>\n\n        </React.Fragment>\n    );\n\n};\n\n\nexport default ContactItem;\n"]},"metadata":{},"sourceType":"module"}
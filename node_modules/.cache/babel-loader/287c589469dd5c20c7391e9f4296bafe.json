{"ast":null,"code":"import _slicedToArray from \"/home/paria/sandbox/projects/webfon-V2/webfonv2/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/paria/sandbox/projects/webfon-V2/webfonv2/src/components/chat/main-page/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport LoginPage from \"../login-page\";\nimport TabsSection from \"../tabs\";\nimport StatusDetector from \"../status-detector\";\nimport { useSelector } from \"react-redux\";\nimport DropDownMenu from \"../drop-down-menu\";\nimport KazooLogin from \"../../call/login\";\n\nconst MainPage = () => {\n  const showMainPage = useSelector(state => state.showMainPage);\n  const showCallPage = useSelector(state => state.showCallPage);\n  const connection = useSelector(state => state.connection);\n  const $pres = useSelector(state => state.$pres);\n\n  const _useState = useState(showMainPage),\n        _useState2 = _slicedToArray(_useState, 2),\n        showPage = _useState2[0],\n        setShowPage = _useState2[1];\n  /*-----------------Log Out Button action----------------=*/\n\n\n  const handleDisconnect = () => {\n    connection.disconnect();\n  };\n  /*-----------------/Log Out Button action----------------*/\n\n\n  useEffect(() => {\n    setShowPage(showMainPage);\n  }, [showMainPage]);\n  useEffect(() => {\n    setShowPage(showCallPage);\n  }, [showCallPage]);\n  /*----------response to subscription request-----------*/\n  // const onSubscriptionRequest = (stanza) => {\n  //     this.setState({\n  //         showPopUp: true\n  //     })\n  //     if (stanza.getAttribute(\"type\") === \"subscribe\") {\n  //         // Send a 'subscribed' notification back to accept the incoming\n  //         // subscription request\n  //         connection.send($pres({to: stanza.getAttribute(\"from\"), type: \"subscribed\"}));\n  //     }\n  //     return true;\n  // }\n\n  /*----------/response to subscription request-----------*/\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, showPage ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    value: \"logout\",\n    className: \"btn btn-primary logout\",\n    id: \"logout\",\n    onClick: handleDisconnect,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Log out\"), React.createElement(\"div\", {\n    className: \"mystatus\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(DropDownMenu, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), React.createElement(StatusDetector, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })), React.createElement(TabsSection, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  })) : React.createElement(LoginPage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })));\n};\n\nexport default MainPage;","map":{"version":3,"sources":["/home/paria/sandbox/projects/webfon-V2/webfonv2/src/components/chat/main-page/index.js"],"names":["React","useEffect","useState","LoginPage","TabsSection","StatusDetector","useSelector","DropDownMenu","KazooLogin","MainPage","showMainPage","state","showCallPage","connection","$pres","showPage","setShowPage","handleDisconnect","disconnect"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,SAAP,MAAsB,eAAtB;AACA,OAAOC,WAAP,MAAwB,SAAxB;AACA,OAAOC,cAAP,MAA2B,oBAA3B;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;;AAGA,MAAMC,QAAQ,GAAG,MAAM;AACnB,QAAMC,YAAY,GAAGJ,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACD,YAAhB,CAAhC;AACA,QAAME,YAAY,GAAGN,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACC,YAAhB,CAAhC;AACA,QAAMC,UAAU,GAAGP,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACE,UAAhB,CAA9B;AACA,QAAMC,KAAK,GAAGR,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACG,KAAhB,CAAzB;;AAJmB,oBAKaZ,QAAQ,CAACQ,YAAD,CALrB;AAAA;AAAA,QAKZK,QALY;AAAA,QAKFC,WALE;AAQnB;;;AACA,QAAMC,gBAAgB,GAAG,MAAM;AAC3BJ,IAAAA,UAAU,CAACK,UAAX;AACH,GAFD;AAIA;;;AAEAjB,EAAAA,SAAS,CAAC,MAAM;AACZe,IAAAA,WAAW,CAACN,YAAD,CAAX;AACH,GAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;AAKAT,EAAAA,SAAS,CAAC,MAAM;AACZe,IAAAA,WAAW,CAACJ,YAAD,CAAX;AACH,GAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA,SACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKG,QAAQ,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACJ;AACI,IAAA,IAAI,EAAC,QADT;AAEI,IAAA,KAAK,EAAC,QAFV;AAGI,IAAA,SAAS,EAAC,wBAHd;AAII,IAAA,EAAE,EAAC,QAJP;AAKI,IAAA,OAAO,EAAEE,gBALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADI,EAQJ;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CARI,EAYJ,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZI,CAAH,GAcL,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfR,CADJ,CADJ;AAuBH,CAhED;;AAmEA,eAAeR,QAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport LoginPage from \"../login-page\";\nimport TabsSection from \"../tabs\";\nimport StatusDetector from \"../status-detector\";\nimport {useSelector} from \"react-redux\";\nimport DropDownMenu from \"../drop-down-menu\";\nimport KazooLogin from \"../../call/login\";\n\n\nconst MainPage = () => {\n    const showMainPage = useSelector(state => state.showMainPage);\n    const showCallPage = useSelector(state => state.showCallPage);\n    const connection = useSelector(state => state.connection);\n    const $pres = useSelector(state => state.$pres);\n    const [showPage, setShowPage] = useState(showMainPage);\n\n\n    /*-----------------Log Out Button action----------------=*/\n    const handleDisconnect = () => {\n        connection.disconnect();\n    };\n\n    /*-----------------/Log Out Button action----------------*/\n\n    useEffect(() => {\n        setShowPage(showMainPage)\n    }, [showMainPage]);\n\n\n    useEffect(() => {\n        setShowPage(showCallPage);\n    }, [showCallPage]);\n\n\n    /*----------response to subscription request-----------*/\n    // const onSubscriptionRequest = (stanza) => {\n    //     this.setState({\n    //         showPopUp: true\n    //     })\n    //     if (stanza.getAttribute(\"type\") === \"subscribe\") {\n    //         // Send a 'subscribed' notification back to accept the incoming\n    //         // subscription request\n    //         connection.send($pres({to: stanza.getAttribute(\"from\"), type: \"subscribed\"}));\n    //     }\n    //     return true;\n    // }\n\n    /*----------/response to subscription request-----------*/\n\n\n    return (\n        <React.Fragment>\n            <div className=\"container\">\n                {showPage ? <div>\n                        <button\n                            type=\"button\"\n                            value=\"logout\"\n                            className=\"btn btn-primary logout\"\n                            id=\"logout\"\n                            onClick={handleDisconnect}\n                        >Log out</button>\n                        <div className=\"mystatus\">\n                            <DropDownMenu/>\n                            <StatusDetector/>\n                        </div>\n                        <TabsSection/>\n                    </div> :\n                    <LoginPage/>\n                }\n            </div>\n        </React.Fragment>\n    );\n\n}\n\n\nexport default MainPage;\n"]},"metadata":{},"sourceType":"module"}
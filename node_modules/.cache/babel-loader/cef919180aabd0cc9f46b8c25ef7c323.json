{"ast":null,"code":"var _jsxFileName = \"/home/paria/sandbox/projects/webfon-V2/webfonv2/src/components/call/call-history-detail/index.js\";\nimport React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport avatarImage from \"../../../images/avatar.jpg\";\nimport LogItem from \"../log-item\";\nimport \"./style.css\";\n\nconst CallHistoryDetail = () => {\n  const cdrsData = useSelector(state => state.cdrsData);\n  const selectedLogContact = useSelector(state => state.selectedLogContact);\n\n  const renderLogs = group => {\n    return Object.keys(group).map((key, index) => React.createElement(\"div\", {\n      className: \"group\",\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, key), group[key].map((item, i) => (item.direction === \"inbound\" ? item.to : item.from) === selectedLogContact ? React.createElement(LogItem, {\n      item: item,\n      number: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }) : null)));\n  };\n\n  useEffect(() => {\n    let ele = document.getElementsByClassName(\"group\");\n\n    for (let i = 0; i < ele.length; i++) {\n      if (ele[i].childElementCount === 1) {\n        ele[i].remove();\n      }\n    }\n  }, [cdrsData, selectedLogContact]);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"user-image\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"avatar\",\n    src: avatarImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"userName\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, selectedLogContact), React.createElement(\"div\", {\n    className: \"detail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, renderLogs(cdrsData))));\n};\n\nexport default CallHistoryDetail;","map":{"version":3,"sources":["/home/paria/sandbox/projects/webfon-V2/webfonv2/src/components/call/call-history-detail/index.js"],"names":["React","useEffect","useSelector","avatarImage","LogItem","CallHistoryDetail","cdrsData","state","selectedLogContact","renderLogs","group","Object","keys","map","key","index","item","i","direction","to","from","ele","document","getElementsByClassName","length","childElementCount","remove"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,WAAR,QAA2B,aAA3B;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,OAAP,MAAoB,aAApB;AACA,OAAO,aAAP;;AAEA,MAAMC,iBAAiB,GAAG,MAAM;AAC5B,QAAMC,QAAQ,GAAGJ,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACD,QAAhB,CAA5B;AACA,QAAME,kBAAkB,GAAGN,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACC,kBAAhB,CAAtC;;AAEA,QAAMC,UAAU,GAAIC,KAAD,IAAW;AAC1B,WACIC,MAAM,CACDC,IADL,CACUF,KADV,EAEKG,GAFL,CAES,CAACC,GAAD,EAAMC,KAAN,KACD;AAAK,MAAA,SAAS,EAAC,OAAf;AAAuB,MAAA,GAAG,EAAEA,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAID,GAAJ,CADJ,EAEKJ,KAAK,CAACI,GAAD,CAAL,CAAWD,GAAX,CAAe,CAACG,IAAD,EAAOC,CAAP,KACZ,CAACD,IAAI,CAACE,SAAL,KAAmB,SAAnB,GACGF,IAAI,CAACG,EADR,GACaH,IAAI,CAACI,IADnB,MAC6BZ,kBAD7B,GAEI,oBAAC,OAAD;AAAS,MAAA,IAAI,EAAEQ,IAAf;AAAqB,MAAA,MAAM,EAAEC,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,GAEwC,IAH3C,CAFL,CAHR,CADJ;AAcH,GAfD;;AAgBAhB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIoB,GAAG,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,OAAhC,CAAV;;AACA,SAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGI,GAAG,CAACG,MAAxB,EAAgCP,CAAC,EAAjC,EAAqC;AACjC,UAAII,GAAG,CAACJ,CAAD,CAAH,CAAOQ,iBAAP,KAA6B,CAAjC,EAAoC;AAChCJ,QAAAA,GAAG,CAACJ,CAAD,CAAH,CAAOS,MAAP;AAEH;AACJ;AACJ,GARQ,EAQN,CAACpB,QAAD,EAAYE,kBAAZ,CARM,CAAT;AASA,SACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI;AAAK,IAAA,GAAG,EAAC,QAAT;AAAkB,IAAA,GAAG,EAAEL,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,EAKI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKK,kBADL,CALJ,EAQI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQC,UAAU,CAACH,QAAD,CAFlB,CARJ,CADJ,CADJ;AAkBH,CA/CD;;AAkDA,eAAeD,iBAAf","sourcesContent":["import React, {useEffect} from \"react\";\nimport {useSelector,} from \"react-redux\";\nimport avatarImage from \"../../../images/avatar.jpg\";\nimport LogItem from \"../log-item\";\nimport \"./style.css\"\n\nconst CallHistoryDetail = () => {\n    const cdrsData = useSelector(state => state.cdrsData);\n    const selectedLogContact = useSelector(state => state.selectedLogContact);\n\n    const renderLogs = (group) => {\n        return (\n            Object\n                .keys(group)\n                .map((key, index) => (\n                    <div className=\"group\" key={index}>\n                        <p>{key}</p>\n                        {group[key].map((item, i) => (\n                            (item.direction === \"inbound\" ?\n                                item.to : item.from) === selectedLogContact ?\n                                <LogItem item={item} number={i}/> : null\n                        ))}\n                    </div>\n                ))\n        );\n    };\n    useEffect(() => {\n        let ele = document.getElementsByClassName(\"group\");\n        for (let i = 0; i < ele.length; i++) {\n            if (ele[i].childElementCount === 1) {\n                ele[i].remove()\n\n            }\n        }\n    }, [cdrsData , selectedLogContact])\n    return (\n        <React.Fragment>\n            <div className=\"container\">\n                <div className=\"user-image\">\n\n                    <img alt=\"avatar\" src={avatarImage}/>\n                </div>\n                <div className=\"userName\">\n                    {selectedLogContact}\n                </div>\n                <div className=\"detail\">\n                    {\n                        renderLogs(cdrsData)\n                    }\n                </div>\n            </div>\n        </React.Fragment>\n    )\n};\n\n\nexport default CallHistoryDetail;\n"]},"metadata":{},"sourceType":"module"}